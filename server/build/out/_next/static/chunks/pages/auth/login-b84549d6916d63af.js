(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{163:function(r,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return t(4156)}])},3638:function(r,e,t){"use strict";t.d(e,{Y:function(){return l},c:function(){return s}});var n=t(2729),a=t(7283);function i(){let r=(0,n._)(["\n  mutation RegisterUser($email: String!, $password: String!, $username: String!, $avatar: String) {\n    userRegistration(\n      userCredentials: { email: $email, password: $password, username: $username, avatar: $avatar }\n    )\n  }\n"]);return i=function(){return r},r}function o(){let r=(0,n._)(["\n  mutation LoginUser($username: String!, $password: String!) {\n    userLogin(userCredentials: { username: $username, password: $password })\n  }\n"]);return o=function(){return r},r}let s=(0,a.Ps)(i()),l=(0,a.Ps)(o())},4156:function(r,e,t){"use strict";t.r(e),t.d(e,{default:function(){return y}});var n=t(5893),a=t(7294),i=t(629),o=t(7357),s=t(5861),l=t(3321),u=t(8799),d=t(1496),c=t(1479),p=t(319),m=t(990),x=t(1163),g=t(2705),h=t.n(g),f=t(3638);function y(r){let{}=r,[e,t]=(0,a.useState)({username:"",password:""}),[l,u]=(0,a.useState)(!0),[d,g]=(0,a.useState)(),[y]=(0,p.D)(f.Y),v=(0,x.useRouter)(),C=r=>{let e=h().object({username:h().string().required(),password:h().string().min(8).max(32).required()}),{error:t}=e.validate(r);return t?u(!0):u(!1)},_=(r,n)=>{t({...e,[n]:r.target.value.trim()})},j=async r=>{try{let e=await y({variables:{...r}});localStorage.setItem("username",r.username),localStorage.setItem("accessToken",e.data.userLogin)}catch(r){if(r instanceof m.cA){g(r.message);return}g("Unexpected error")}t({username:"",password:""}),v.push("/")};return(0,a.useEffect)(()=>{C(e)},[e]),(0,n.jsx)(b,{children:(0,n.jsxs)(i.Z,{sx:{width:"700px",height:"initial","&:hover":{bgcolor:"primary.light"},padding:"50px",cursor:"unset"},children:[(0,n.jsxs)(o.Z,{sx:{marginBottom:"50px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)(c.Z,{sx:{fontSize:"90px",color:"primary.dark",margin:"20px"}}),(0,n.jsx)(s.Z,{variant:"h5",sx:{textAlign:"center",color:"primary.dark",textTransform:"uppercase"},children:"Login to your account"})]}),(0,n.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",marginBottom:"50px"},children:[(0,n.jsx)(k,{label:"Username",value:e.username,onChange:r=>_(r,"username"),required:!0,helperText:"For example: chatUser_4221"}),(0,n.jsx)(k,{label:"Password",value:e.password,onChange:r=>_(r,"password"),type:"password",required:!0,helperText:"Length from 8 to 32 characters"})]}),d?(0,n.jsxs)(s.Z,{variant:"h6",color:"error",marginBottom:"20px",children:['An error ocurred: "',d,'"']}):null,(0,n.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(w,{sx:{"&:disabled":{opacity:"0.7"}},disabled:l,onClick:()=>j(e),children:"Login"}),(0,n.jsx)(w,{onClick:()=>v.push("/auth/register"),sx:{bgcolor:"primary.main",color:"primary.dark","&:hover":{color:"primary.main"}},children:"Register"})]})]})})}let b=(0,d.ZP)(o.Z)(r=>{let{theme:e}=r;return{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}),w=(0,d.ZP)(l.Z)(r=>{let{theme:e}=r;return{height:"50px",padding:"0px 30px 0px 30px",backgroundColor:e.palette.primary.dark,borderRadius:"10px",transition:"0.2s",marginTop:"5px",marginBottom:"5px","&:hover":{backgroundColor:e.palette.primary.dark,opacity:"0.8",transition:"0.2s"}}}),k=(0,d.ZP)(u.Z)(r=>{let{theme:e}=r;return{marginTop:"5px",fontSize:"48px",marginBottom:"5px","& label":{color:"grey"},"& label.Mui-focused":{color:e.palette.primary.dark},"& .MuiInput-underline:after":{borderBottomColor:e.palette.primary.dark},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:e.palette.primary.dark,borderWidth:2},"&:hover fieldset":{borderColor:e.palette.primary.dark,borderWidth:3},"&.Mui-focused fieldset":{borderColor:e.palette.primary.dark}}}})}},function(r){r.O(0,[144,525,902,774,888,179],function(){return r(r.s=163)}),_N_E=r.O()}]);